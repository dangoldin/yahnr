<html>
  <head>
    <title>Test</title>
    <link href="./css/bootstrap.css" rel="stylesheet">
    <link href="./css/bootstrap-responsive.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="span12">
          <table class="table table-striped" id="data-table">
            <thead>
              <td>#</td>
              <td>Title</td>
              <td>Points</td>
              <td>Who</td>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script type="text/javascript" src="./js/mustache.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
      var compiledTemplate = Mustache.compile("<tr><td>{{ i }}</td><td><a href=\"{{ url }}\">{{ title }}</a></td><td>{{ points }}</td><td>{{ user }}</td></tr>");

      var all_data = {};

      $.getJSON("hn.json",function(json){
        console.log(json);

        $.each(json, function(idx, row) {
          if(row.thread_id in all_data) {

          } else {
            all_data[thread_id] = row;
          }

          console.log(row);
          row.i = idx;
          var output = compiledTemplate(row);
          $('#data-table').append(output);
        });
      });
    });
    </script>
  </body>
</html>